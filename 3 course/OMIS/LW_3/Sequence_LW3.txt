title Процесс добавления выставки в желаемое

actor Пользователь
boundary Страница авторизации
control Сервис авторизации
database БД пользователей
boundary Страница списка выставок
boundary Страница конкретной выставки
control Сервис выставок
database БД выставок
database БД желаемого

activate Пользователь

group Авторизация

  Пользователь -> Страница авторизации: Ввод данных для входа
  activate Страница авторизации
  Пользователь -> Страница авторизации: Запрос авторизации
  Страница авторизации -> Сервис авторизации: Запрос проверки данных
  activate Сервис авторизации
  Сервис авторизации -> БД пользователей: Проверка учетных данных
  activate БД пользователей
  Сервис авторизации <<-- БД пользователей: Данные пользователя подтверждены
  deactivate БД пользователей
  Сервис авторизации -->> Страница авторизации: Доступ разрешен
  deactivate Сервис авторизации
  Страница авторизации -->> Пользователь: Успешный вход, переход к списку выставок
  deactivate Страница авторизации

end

group Просмотр и выбор выставки
  Пользователь -> Страница списка выставок: Просмотр списка выставок
  activate Страница списка выставок
  Страница списка выставок -> Сервис выставок: Запрос на получение списка выставок
  activate Сервис выставок
  Сервис выставок -> БД выставок: Получение списка активных выставок
  activate БД выставок
  БД выставок -->> Сервис выставок: Список активных выставок
  deactivate БД выставок
  Сервис выставок -->> Страница списка выставок: Список активных выставок
  deactivate Сервис выставок
  Страница списка выставок -->> Пользователь: Отображение списка выставок
  deactivate Страница списка выставок
  Пользователь -> Страница списка выставок: Выбор конкретной выставки
  activate Страница списка выставок
  Страница списка выставок -> Сервис выставок: Запрос информации о выставке
  activate Сервис выставок
  Сервис выставок -> БД выставок: Запрос данных о конкретной выставке
  activate БД выставок
  БД выставок -->> Сервис выставок: Данные о выставке (название, даты, описание)
  deactivate БД выставок
  Сервис выставок -->> Страница списка выставок: Данные о выбранной выставке
  deactivate Сервис выставок
  Страница списка выставок -->> Пользователь: Перенаправление на страницу выставки
  deactivate Страница списка выставок
end

group Добавление выставки в желаемое
  Пользователь -> Страница конкретной выставки: Добавить выставку в желаемое
  activate Страница конкретной выставки
  Страница конкретной выставки -> Сервис выставок: Проверка доступности добавления
  activate Сервис выставок
  Сервис выставок -> БД желаемого: Проверка, не добавлена ли выставка уже в список желаемого
  activate БД желаемого
  alt Выставка уже в списке желаемого
    БД желаемого -->> Сервис выставок: Запись найдена
    Сервис выставок -->> Страница конкретной выставки: Выставка уже в желаемом
    deactivate Сервис выставок
    Страница конкретной выставки -->> Пользователь: Эта выставка уже добавлена в ваш список желаемого
    deactivate Страница конкретной выставки
  else Выставка отсутствует в списке желаемого
    БД желаемого -->> Сервис выставок: Запись не найдена
    activate Сервис выставок
    deactivate БД желаемого
    Сервис выставок -> БД желаемого: Добавление выставки в список желаемого
    activate БД желаемого
    БД желаемого -> БД желаемого: Запись добавлена
    БД желаемого -->> Сервис выставок: Запись добавлена
    deactivate БД желаемого
    Сервис выставок -->> Страница конкретной выставки: Выставка успешно добавлена
    activate Страница конкретной выставки
    deactivate Сервис выставок

    Страница конкретной выставки -->> Пользователь: Выставка добавлена в ваш список желаемого
    deactivate Страница конкретной выставки
  end

end

deactivate Пользователь
